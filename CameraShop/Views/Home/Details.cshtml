@model CameraShop.Models.Product

@using CameraShop.HelperCode

@*<!DOCTYPE html>

    <html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <title>Details</title>
    </head>
    <body>
        <div>
            <h4>Product</h4>
            <hr />
            <dl class="dl-horizontal">
                <dt>
                    @Html.DisplayNameFor(model => model.Category.CategoryName)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Category.CategoryName)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.ProductSpecification.FirstTitle)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.ProductSpecification.FirstTitle)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.ProductName)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.ProductName)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.OriPrice)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.OriPrice)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.DiscountedPrice)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.DiscountedPrice)
                </dd>

            </dl>
        </div>
        <p>
            @Html.ActionLink("Edit", "Edit", new { id = Model.ProductID }) |
            @Html.ActionLink("Back to List", "Index")
        </p>
    </body>
    </html>*@
<div class="breadcrumb-area">
    <div class="container">
        <ol class="breadcrumb breadcrumb-list">
            @if (ViewContext.RouteData.Values["controller"].ToString() != "Home1")
            {
                <li class="breadcrumb-item">
                    @Html.ActionLink(ViewContext.RouteData.Values["controller"].ToString(), "Index", ViewContext.RouteData.Values["controller"].ToString())
                </li>

            }
            @if (ViewContext.RouteData.Values["action"].ToString() != "Index")
            {
                <li class="breadcrumb-item">
                    @Html.ActionLink(ViewContext.RouteData.Values["action"].ToString(), ViewContext.RouteData.Values["action"].ToString(), ViewContext.RouteData.Values["controller"].ToString())
                </li>
            }


            <li class="breadcrumb-item active">@Model.ProductName</li>
        </ol>
    </div>
</div>
<!-- Breadcrumb Area End Here -->
<!-- Product Thumbnail Start -->
<div class="main-product-thumbnail ptb-80">
    <div class="container">
        <div class="row">
            <!-- Main Thumbnail Image Start -->
            <div class="col-lg-5 col-md-6 mb-all-40">
                <!-- Thumbnail Large Image start -->
                <div class="tab-content">
                    @{
                        int count = 1;
                        {
                            foreach (var img in Model.FileImgs)
                            {
                                if (count == 1)
                                {
                                    <div id="thumb@(count)" class="tab-pane fade show active">

                                        @Html.LargeImageDetails(img.file_base6)
                                    </div>
                                }
                                if (count >= 2)
                                {
                                    <div id="thumb@(count)" class="tab-pane fade ">

                                        @Html.LargeImageDetails(img.file_base6)
                                    </div>
                                }
                                count++;
                            }
                        }
                    }
                    @*<div id="thumb1" class="tab-pane fade show active">
                            <a data-fancybox="images" href="~/img/products/p2.jpeg">
                                <img src="~/img/products/p2.jpeg" alt="product-view">
                            </a>
                        </div>
                        <div id="thumb2" class="tab-pane fade">
                            <a data-fancybox="images" href="~/img/products/p5.jpeg">
                                <img src="~/img/products/p5.jpeg" alt="product-view">
                            </a>
                        </div>
                        <div id="thumb3" class="tab-pane fade">
                            <a data-fancybox="images" href="img\products\p6.jpeg">
                                <img src="~/img/products/p6.jpeg" alt="product-view">
                            </a>
                        </div>
                        <div id="thumb4" class="tab-pane fade">
                            <a data-fancybox="images" href="img\products\p7.jpeg">
                                <img src="~/img/products/p7.jpeg" alt="product-view">
                            </a>
                        </div>*@
                </div>
                <!-- Thumbnail Large Image End -->
                <!-- Thumbnail Image End -->
                <div class="product-thumbnail">
                    <div class="thumb-menu owl-carousel nav tabs-area" role="tablist">
                        @{
                            int countThumbnail = 1;
                            {
                                if (count > 2)
                                {
                                    foreach (var img in Model.FileImgs)
                                    {
                                        if (countThumbnail == 1)
                                        {
                                            <a class="active" data-toggle="tab" href="#thumb1">
                                                @Html.ThumbnailImagesCount2(img.file_base6)
                                            </a>
                                        }
                                        if (countThumbnail >= 2 && countThumbnail <= count)
                                        {
                                            <a data-toggle="tab" href="#thumb@(countThumbnail)">
                                                @Html.ThumbnailImagesCount2(img.file_base6)
                                            </a>
                                        }
                                        countThumbnail++;
                                    }
                                }

                            }
                        }
                        @*<a class="active" data-toggle="tab" href="#thumb1">
                                <img src="~/img/products/p2.jpeg" alt="product-thumbnail">
                            </a>
                            <a data-toggle="tab" href="#thumb2">
                                <img src="~/img/products/p5.jpeg" alt="product-thumbnail">
                            </a>
                            <a data-toggle="tab" href="#thumb3">
                                <img src="img\products\p6.jpeg" alt="product-thumbnail">
                            </a>
                            <a data-toggle="tab" href="#thumb4">
                                <img src="img\products\p7.jpeg" alt="product-thumbnail">
                            </a>
                            <a data-toggle="tab" href="#thumb5">
                                <img src="img\products\p8.jpeg" alt="product-thumbnail">
                            </a>*@
                    </div>
                </div>
                <!-- Thumbnail image end -->
            </div>
            <!-- Main Thumbnail Image End -->
            <!-- Thumbnail Description Start -->
            <div class="col-lg-7 col-md-6">
                <div class="thubnail-desc ">
                    <h3 class="product-header">@Html.DisplayFor(modelItem => modelItem.ProductName) </h3>
                    <ul class="rating-summary">
                        <li class="rating-pro">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star-o"></i>
                            <i class="fa fa-star-o"></i>
                            <i class="fa fa-star-o"></i>
                        </li>
                        <li class="read-review">
                            <a href="#">read reviews (1)</a>
                        </li>
                        <li class="write-review">
                            <a href="#">write review</a>
                        </li>
                    </ul>
                    <div class="pro-thumb-price mt-20">
                        <p>
                            <span class="special-price text-danger">
                                @if (Model.DiscountedPrice > 10000)
                                {@Html.DisplayFor(modelItem => modelItem.DiscountedPrice)}
                            else
                            {@Html.DisplayName("Liên hệ");
                        }
                        </span>
                        <del class="old-price">@Html.DisplayFor(modelItem => modelItem.OriPrice)</del>
                    </p>
                </div>
                <p class="pro-desc-details">
                    Canon's press material for the EOS 5D states that it 'defines (a) new D-SLR category', while
                    we're not typically too concerned with marketing talk this particular statement is clearly
                    pretty accurate...
                </p>
                
                <div class="color clearfix mb-30">
                    
                    
                </div>
                <div class="quatity-stock">
                    <label>Quantity</label>
                    <ul class="d-flex flex-wrap">
                        <li class="box-quantity">
                            <form action="#">
                                <input class="quantity" type="number" min="1" value="1">
                            </form>
                        </li>
                        @if (Model.DiscountedPrice > 10000)
                        {
                            <li>
                                @*<a href="cart.html" title="Add to Cart">Add To Cart</a>*@
                                <button type="submit" data-toggle="modal" data-target="#exampleModal" onclick="AddToCart(this);" itemid="@Model.ProductID" class="pro-cart">Thêm vào giỏ</button>
                            </li>
                        }
                    </ul>


                </div>
            </div>
        </div>
        <!-- Thumbnail Description End -->
    </div>
    <!-- Row End -->
</div>
<!-- Container End -->
</div>
<!-- Product Thumbnail End -->
<!-- Product Thumbnail Description Start -->
<div class="thumnail-desc  pb-80">
    <div class="container">
        <div class="thumb-desc-inner">
            <div class="row">
                <div class="col-sm-12">
                    <ul class="main-thumb-desc nav tabs-area" role="tablist">
                        <li>
                            <a class="active" data-toggle="tab" href="#dtail">Thông số kĩ thuật</a>
                        </li>
                        <li>
                            <a data-toggle="tab" href="#review">Reviews (1)</a>
                        </li>
                    </ul>


                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLongTitle">Giỏ hàng của bạn</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <p class="text-success align-content-between"><span class="fasfa">Đã thêm thành công</span></p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-danger" data-dismiss="modal">Đóng</button>
                                    <button type="button" onclick="document.location.href='@Url.Action("Cart","Cart")'" class="btn btn-success">Tiến hành thanh toán</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Product Thumbnail Tab Content Start -->
                    <div class="tab-content thumb-content">
                        <div id="dtail" class="tab-pane fade show active">
                            @if (Model.ProductSpecification != null)
                            {
                                foreach (var item in Model.ProductSpecification)
                                {
                                    @Html.Raw(item.ToString())
                                }
                            }
                        </div>
                        <div id="review" class="tab-pane fade">
                            <!-- Reviews Start -->
                            <div class="review">
                                <div class="group-title">
                                    <h2>customer review</h2>
                                </div>
                                <h4 class="review-mini-title">ponno</h4>
                                <ul class="review-list">
                                    <!-- Single Review List Start -->
                                    <li>
                                        <span>Quality</span>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <label>ponno</label>
                                    </li>
                                    <!-- Single Review List End -->
                                    <!-- Single Review List Start -->
                                    <li>
                                        <span>price</span>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <label>
                                            Review by
                                            <a href="https://themeforest.net/user/ponno">ponno</a>
                                        </label>
                                    </li>
                                    <!-- Single Review List End -->
                                    <!-- Single Review List Start -->
                                    <li>
                                        <span>value</span>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star-o"></i>
                                        <label>Posted on 12/20/18</label>
                                    </li>
                                    <!-- Single Review List End -->
                                </ul>
                            </div>
                            <!-- Reviews End -->
                            <!-- Reviews Start -->
                            <div class="review mt-10">
                                <h2 class="review-title mb-30">
                                    You're reviewing:
                                    <br>
                                    <span>Faded Short Sleeves T-shirt</span>
                                </h2>
                                <p class="review-mini-title">your rating</p>
                                <ul class="review-list">
                                    <!-- Single Review List Start -->
                                    <li>
                                        <span>Quality</span>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                    </li>
                                    <!-- Single Review List End -->
                                    <!-- Single Review List Start -->
                                    <li>
                                        <span>price</span>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                    </li>
                                    <!-- Single Review List End -->
                                    <!-- Single Review List Start -->
                                    <li>
                                        <span>value</span>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star-o"></i>
                                    </li>
                                    <!-- Single Review List End -->
                                </ul>
                                <!-- Reviews Field Start -->
                                <div class="riview-field mt-40">
                                    <form autocomplete="off" action="#">
                                        <div class="form-group">
                                            <label class="req" for="sure-name">Name</label>
                                            <input type="text" class="form-control" id="sure-name" required="required">
                                        </div>
                                        <div class="form-group">
                                            <label class="req" for="subject">Title of review</label>
                                            <input type="text" class="form-control" id="subject" required="required">
                                        </div>
                                        <div class="form-group">
                                            <label class="req" for="comments">Your Review</label>
                                            <textarea class="form-control" rows="5" id="comments" required="required"></textarea>
                                        </div>
                                        <button type="submit" class="customer-btn">Submit</button>
                                    </form>
                                </div>
                                <!-- Reviews Field Start -->
                            </div>
                            <!-- Reviews End -->
                        </div>
                    </div>
                    <!-- Product Thumbnail Tab Content End -->
                </div>
            </div>
            <!-- Row End -->
        </div>
    </div>
    <!-- Container End -->
</div>
<!-- Product Thumbnail Description End -->
<!-- More Product Start Here -->

<script type="text/javascript">
    //$("#myLink").click(function (e) {

    //    e.preventDefault();
    //    $.ajax({

    //        url: $(this).attr("href"), // comma here instead of semicolon
    //        success: function () {
    //            alert("Value Added");  // or any other indication if you want to show
    //        }

    //    });

    //});
    function AddToCart(item) {
        var itemid = $(item).attr("itemid");
        //alert(itemid);
        var formData = new FormData();
        formData.append("ProductID", itemid);

        $.ajax({
            async: false,
            type: "POST",
            contentType: false,
            processData: false,
            data: formData,
            url: '/Home/AddToCart',
            success: function (data) {
                if (data.success) {
                    //alert("Đã thêm vào giỏ hàng")
                    $("#exampleModal").show();
                    $("#cartItem").text("" + data.Counter + " sản phẩm ");

                    //$("dropdown cart-box-width active").show();
                }

            },
            error: function () {
                alert("There is some problem");
            }
        })
    }
</script>
    